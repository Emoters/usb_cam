<launch>
  <!-- example camera descriptor XML -->
  <arg name="framerate" default="20" />
  <arg name="userect" default="1" />
  <arg name="stereo" default="1" />
    <group if="$(arg stereo)" >
      <node pkg="usb_cam" type="usb_cam_node" name="tech_wide" output="screen">
        <param name="video_device" value="/dev/video0"/>
        <param name="image_width" value="640"/>
        <param name="image_height" value="480"/>
        <param name="pixel_format" value="yuyv"/>
        <param name="framerate" value="$(arg framerate)"/>
        <!--<param name="brightness" value="-10"/>-->
    
        <!-- disable auto control  -->
        <param name="autofocus" value="false"/>
        <param name="io_method" value="mmap"/>
        <param name="autoexposure" value="false"/>
    
        <!-- stereo partition -->
        <param name="x1" value="320"/>
        <param name="y1" value="0"/>
        <param name="x2" value="320"/>
        <param name="y2" value="480"/>
      </node>
    </group>
    <group unless="$(arg stereo)" >
      <node pkg="usb_cam" type="usb_cam_node" name="tech_wide" output="screen">
        <param name="video_device" value="/dev/video0"/>
        <param name="image_width" value="640"/>
        <param name="image_height" value="480"/>
        <param name="camera_info_url" type="string" value="tech_wide_cal.yaml" /> 
        <param name="pixel_format" value="yuyv"/>
        <param name="framerate" value="$(arg framerate)"/>
        <!--<param name="brightness" value="-10"/>-->
    
        <!-- disable auto control  -->
        <param name="autofocus" value="false"/>
        <param name="io_method" value="mmap"/>
        <param name="autoexposure" value="false"/>
      </node>
    </group> 
    <group if="$(arg userect)" >
      <node pkg="image_proc" type="image_proc" name="image_rect" ns="tech_wide">
      </node>
    </group>
</launch>
